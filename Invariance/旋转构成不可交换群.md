## 旋转构成不可交换群

辛辛苦苦做了一个多轴联动的系统，
但发现它不能归零。

郁闷半天，发现多轴旋转竟然是不可交换的。

好在我可以用度量张量来证明这件事情。

---

- [旋转构成不可交换群](#旋转构成不可交换群)
- [归零](#归零)
- [度量张量](#度量张量)
- [旋转不可交换](#旋转不可交换)

## 归零

一个运动系统，
如果它动起来，
我们总希望它的运动是有规律的。

【这是一段棒到不行的视频】

那么最简单的规则就是

> 从哪来回哪去，即归零。

但咱这个系统，似乎回不去。
我即使将角度调回到$0$，它们还是回不去竖直的状态。

![Exchange 1](./exchange-1.png)

想了半天，发现是多轴运动不构成可交换群。

但空口无凭，于是想到了用度量张量来证明这个事情。

## 度量张量

对于$K$维空间中的任意一个点

$$p \in R^K$$

总可以用一组完备基来表示它

$$p = G \cdot \beta$$

其中，$G$代表完备基，$\beta \in R^K$代表该点的坐标。
当然，这里不消说$G$的各个维度是线性无关的

$$\mathcal{R}(G) = K$$

其中，$\mathcal{R}$代表秩。

注意，这里我们并不要求完备基具有正交性，
也就是说

$$G \cdot G^T \neq I$$

其中，$I$代表单位矩阵。

这样，我们总可以找到无穷多个这样的基，
就再指定一个

$$p = G \cdot \beta = H \cdot \gamma$$

这样，我们就有了两组基来表达同一个点$p$，
它的坐标分别为$\beta$和$\gamma$。

为了完成坐标转换的目的，
我们根据$H$计算矩阵$J$，满足

$$J \cdot H = I$$

这样就有

$$\gamma = J \cdot G \cdot \beta$$

注意，这里的坐标不再只限于表示点$p$，
而是对空间只的任意点均成立。

此时，我们就有了两个新矩阵，
一个是$J$，它只与$H$有关，称为它的协变基；
另一个是

$$T = J \cdot H$$

称为度量张量。
人如其名，

> 度量张量就是根据一组基的坐标值，
> 获取它在另一组基下的坐标值的“度量”。

## 旋转不可交换

下面我将借助张量来证明旋转不可交换，
由于该问题较为简单，我们只考虑协变基$J$。

当$H$基的所有轴沿第$i$个轴旋转时，
它的协变基$J$产生相同的旋转

$$J_i$$

同时，对第$j$个轴也有

$$J_j$$

根据表达方式不同，它们可能都是行变换、或者都是列变换。
那么好玩的事情来了，
我们几乎一定有

$$J_i \cdot J_j \neq J_j \cdot J_i$$

这个不等式，只要熟悉矩阵乘法规则的人都能简单的分析出来。
那么，把它们计算得到相应的度量张量，
可以得到相似的不等式关系

$$T_{ij} \cdot \beta \neq T_{ji} \cdot \beta$$

因此，我可以安全地说，
坐标沿两个轴依次转动，
当改变转动次序时，
同一个点的坐标是不同的。
这也就证明了多轴联动的旋转，
是不可交换的。

所以新的问题来了，
那谁能告诉我，
那些酷炫的多轴电机控制算法，到底是些个什么东西。。。。