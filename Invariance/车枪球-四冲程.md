## 车枪球-四冲程

天下大事，无非车枪球三样而已，今天先说车。

众所周知，汽缸越多车越稳，
而好车通常采用直列八缸发动机，
本文将解释这是因为什么，以及如何使用群进行分析。

---
- [车枪球-四冲程](#车枪球-四冲程)
  - [四冲程](#四冲程)
  - [动量和角动量](#动量和角动量)
    - [持续动力条件](#持续动力条件)
    - [气缸平衡条件](#气缸平衡条件)
  - [群论](#群论)

### 四冲程

典型的四冲程发动机气缸的正常工作循环如下：

1. 做功冲程：混合气体爆炸推动活塞远离气缸底，对外（曲轴）做功；
2. 排气冲程：活塞靠曲轴的惯性返回气缸底，挤出废气；
3. 吸气冲程：活塞靠曲轴的惯性带动远离气缸底，吸入混合气体；
4. 压缩冲程：活塞靠曲轴的惯性带动返回气缸底，压缩混合气体，直到其爆炸进入做功冲程。

在气缸外部，活塞与曲轴通过机械连动，保证每个冲程曲轴旋转$180$度，即半周。
因此，一个完整的四冲程循环对应曲轴旋转两周。
而且，在全部四个冲程循环中，只有一个冲程（做功冲程）是气缸对曲轴做功，即曲轴加速旋转；
另外三个冲程均是曲轴对气缸做功，即曲轴减速旋转。
最后，活塞的运动速度与曲轴旋转速度有一定的对应关系，
大致可以认为活塞的速度越快，对应着曲轴的转速越高。

### 动量和角动量

为了简化问题，我们将活塞的运动简化为动量；将曲轴的转动简化为角动量。
这样，四冲程过程中的加速度信息可以表示成下图

![Engine Demo 1](Engine-Demo-1.png)

如图所示，在不同的冲程过程中，系统的动力特性和加速度特性是不同的。
而由于力与加速度相生相伴，我们在考虑

> 一辆好的内燃机汽车，到底需要几个气缸？

这个严肃问题的时候，
需要考察的正是气缸数量和排列方式对加速度特性造成的影响。
这里专注于两个简单的条件，
一个是“持续动力条件”；
另一个是“气缸平衡条件”。

#### 持续动力条件

当我们踩下油门，当然希望发动机的动力源源不断地涌入轮胎，
这就至少要求我们连杆时刻受到活塞的推动，
不能转半圈歇半圈。

我们考虑加速度模型，观察到，
当且仅当在“做功”冲程中，活塞才对曲轴提供动力，
具体表现为逆时针角加速度为正。

因此，为了保证曲轴在连续转动一个四冲程周期，
（即转动两周）的时间内，始终保持有动力的状态，
我们至少需要$4$个气缸为曲轴提供动力，
且每个气缸的运动状态间隔$90$度的相位差，
如下表所示

| 气缸 | 相位1      | 相位2      | 相位3      | 相位4      |
| ---- | ---------- | ---------- | ---------- | ---------- |
| 1    | 做功（逆） | 排气（顺） | 吸气（顺） | 压缩（顺） |
| 2    | 压缩（顺） | 做功（逆） | 排气（顺） | 吸气（顺） |
| 3    | 吸气（顺） | 压缩（顺） | 做功（逆） | 排气（顺） |
| 4    | 排气（顺） | 吸气（顺） | 压缩（顺） | 做功（逆） |

当然，为了满足动力不断的条件，

> 气缸数量少于$4$个是不行的，但多于$4$是可以的，
> 只是气缸数量只能是$4$的整数倍。

这样，我们就能够保证活塞对曲轴持续做功。

#### 气缸平衡条件

但是，气缸内的活塞不是静物，
甚至恰恰相反，活塞在发动机中还是一个大质量物体，
它所承担的任务是承受混合气体的爆炸，并推动或拉动连杆往复运动；
它还要保证气缸不漏气等等，
总之一句话，这个东西轻不了。

一个物体做直线运动时需要的力等于它的质量乘以它的加速度。
因此，汽油车发动机的振动很大程度上来自活塞的往复运动。
也因此，为了保证汽车不把自己振散，我们不能容许多个气缸的活塞进行同相位的运动。
怎么做呢？

> 需要让多个气缸的活塞运动方向相反，且相互抵消。

我们稍微修改一下相位表格，如下

| 气缸 | 相位1      | 相位2      | 相位3      | 相位4      |
| ---- | ---------- | ---------- | ---------- | ---------- |
| 1    | 做功（上） | 排气（上） | 吸气（下） | 压缩（上） |
| 2    | 压缩（上） | 做功（上） | 排气（上） | 吸气（下） |
| 3    | 吸气（下） | 压缩（上） | 做功（上） | 排气（上） |
| 4    | 排气（上） | 吸气（下） | 压缩（上） | 做功（上） |

很遗憾，我们看到，
在使用$4$气缸满足“持续动力条件”的条件下，
全部$4$个气缸所产生的加速度总和永不为零，
也就是说，这$4$个气缸会带着发动机上下翻飞。

这绝不是我们想看到的。

怎么办呢？

> 采用$8$个气缸，按相位分为两组，
> 相位相同的一对气缸采用水平对置排列。

列成表格可以如下所示

| 气缸 | 相位1       | 相位2       | 相位3       | 相位4       |
| ---- | ----------- | ----------- | ----------- | ----------- |
| 1    | +做功（上） | +排气（上） | +吸气（下） | +压缩（上） |
| 2    | +压缩（上） | +做功（上） | +排气（上） | +吸气（下） |
| 3    | +吸气（下） | +压缩（上） | +做功（上） | +排气（上） |
| 4    | +排气（上） | +吸气（下） | +压缩（上） | +做功（上） |
| 5    | -做功（上） | -排气（上） | -吸气（下） | -压缩（上） |
| 6    | -压缩（上） | -做功（上） | -排气（上） | -吸气（下） |
| 7    | -吸气（下） | -压缩（上） | -做功（上） | -排气（上） |
| 8    | -排气（上） | -吸气（下） | -压缩（上） | -做功（上） |

其中，$+$、$-$两个符号分别代表水平对置排列的两个对立方向。

到此，我们可以说，内燃机动力的汽车至少就采用$8$气缸水平对置的动力方案，
才能至少减小发动机气缸的自发振动。
不要信什么$4$气缸，甚至$3$气缸的无良宣传。

### 群论

接下来，回到本文的主题

> 如何使用群论的分析方法，简化上述分析

方法其实是惊人的简单，
我们可以构建$3$个群来描述整个系统的加速度，
这个$3$个群的阶数（群的循环周期）都是$2$，
所以我们至少需要

$$2^3 = 8$$

即需要$8$个元素才能保证取遍这些元素的组合。

分析细节如下，

1. 为曲轴角加速度建立群

   $$G=\{g_1, g_2, g_3, g_4\}$$

    由于冲程数量为$4$，因此可以认为$g_5=g_1$，即群$G$是周期为$4$的循环群。

    另外，由于它的最小正周期为$4$，
    因此至少$4$个同样的群平移后相加才能满足相加后的元素永远相等

    $$\sum_{i=1}^{4}g_i = \sum_{j=n}^{n+4}g_j$$

    其中，由周期性可知，$n$为任意正整数时上式都成立。

2. 为活塞加速度建立群

   $$H=\{h_1, h_2, h_3, h_4\}$$

   同样由于冲程数量为$4$，因此它也是周期为$4$的循环群。

   但它的性质稍怪，满足

   $$h_1 = h_2$$

   即“做功”和“排气”冲程的加速度相同，且

   $$h_3=-h_4$$

   即“吸气”和“压缩”冲程的加速度相反。

   这样，看上去可以构成$2$个循环子群$H_\alpha$和$H_\beta$

   $$H_\beta=\{h_3, h_4\}$$

   以及，

   $$H_\alpha=\{h_1, h_2\}=\{h_1\}$$

   这个子群的循环周期甚至为$1$，
   但问题也正是出在这里，因为我们看到

   $$h_3 + h_4 = 0$$

   但

   $$h_1 + h_2 \neq 0$$

   这就导致无法通过$4$气缸方式将该群的和始终控制为零。

3. 为活塞建立水平对置群

    $$Z=\{z_1, z_2\}$$

    使

    $$z_1 h_1 + z_2 h_2=0$$

    不难发现，新群的阶数与$H_\beta$相同，同样为$2$。

到此，分析完毕。


