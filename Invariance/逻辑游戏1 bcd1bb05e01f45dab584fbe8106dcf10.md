# 逻辑游戏1

一天，鬼谷子随意从2-99中选取了两个数。他把这两个数的和告诉了庞涓， 把这两个数的乘积告诉了孙膑。但孙膑和庞涓彼此不知道对方得到的数。第二天， 庞涓很有自信的对孙膑说：虽然我不知道这两个数是什么，但我知道你一定也不知道。随后，孙膑说：那我知道了。庞涓说：那我也知道了。这两个数是什么？

本文的开源代码可见我的前端笔记本

[Logistic Game I](https://observablehq.com/@listenzcc/logistic-game-i)

---
- [逻辑游戏1](#逻辑游戏1)
  - [设定](#设定)
  - [阶段0](#阶段0)
  - [阶段1](#阶段1)
  - [阶段2](#阶段2)
  - [阶段3](#阶段3)
  - [复盘](#复盘)


## 设定

> 鬼谷子随意从 2-99 中选取了两个数。他把这两个数的和告诉了庞涓， 把这两个数的乘积告诉了孙膑。
> 

$$
\begin{cases}
庞涓=a+b\\
孙膑=a \times b
\end{cases}
$$

他们两人通过有限交换信息实现数据共享（或者博弈）。

## 阶段0

我们先分析这个问题的概率空间，列出全部可能的情况及其权重。之后的分析都是在这张表上做文章。

![Level 0](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled.png)

Level 0

但是为了方便起见，我们的故事世界里出现了3张表。它们分别是我们的表，庞涓的表和孙膑的表。如果不加修饰的话，表格是指我们的表。我们的表是最不确定的，因为庞涓和孙膑至少看到了他们看到的和或者积。

## 阶段1

> 庞涓很有自信的对孙膑说：虽然我不知道这两个数是什么，但我知道你一定也不知道。
> 

庞涓此言排除了两个数都是质数的可能，否则孙膑是有可能直接从乘积中推论出这两个数的。而庞涓直接否定了这种可能，说明他手中的和数不可能由两个质数相加得到。因此，我们可以安全地将表格缩减到145行。

此时，庞涓只是给出信息，因此他的表格没有变化。但孙膑知道了一个非常重要的信息，即对方手中的和数不可能是两个质数之和，他的表格因此缩减。

## 阶段2

> 随后，孙膑说：那我知道了。
> 

这说明在孙膑的表格缩减之后，它只剩下一条记录，于是他表示自己知道了。而我们还是一脸懵逼，我们并不知道两个数字的确切乘积，这是由于我们的表格还剩下86条记录。

## 阶段3

> 庞涓说：那我也知道了。
> 

而在听到孙膑知道了的信息之后，庞涓的表格才缩减到一条记录。这种缩减是由于孙膑的表格中排出了全部不能确定两个数字的那些记录，这数字组合之和随即被排除。

在获取了庞涓的信息后，我们的表格也才能缩减到一条记录，即 4 和 13 的组合。

## 复盘

我们在已知数字的组合是 4 和 13 的条件下开始复盘，看看几个阶段走下来，庞涓和孙膑两人的表格如何变化。首先，从庞涓的视角来看，双方的概率空间是这样的，他手中的数字是 17 ，因此面临 7 选 1 的决策，而对方最坏的结果是面临 5 选 1 的决策，因此孙膑占优。

![Level 1-1](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%201.png)

Level 1-1

而从孙膑的视角来看，双方的概率空间是这样的，他面临 2 选 1 的决策，而对方最坏的结果是面临 12 选 1 的决策，因此还是孙膑占优。

![Level 1-2](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%202.png)

Level 1-2

当庞涓说出自己和对方都没有办法直接确定结果之后，相当于将这个信息告知了孙膑，使后者能够从自己所有的可能中排除掉全部可能由两个质数构成的积。不仅如此，如果孙膑选出某个数字组合，比如另一种选择即 2 和 26，那么它们的和 28 可能分解成 11 和 17。而如果真相是 11 和 17 时，庞涓就无法确定自己不能由积唯一地确定这两个数，因此要排除掉这种可能。此时孙膑才能说出自己知道了。也就是说，庞涓用一句话向孙膑传达了极其重要的 1 比特的信息，因为他的选择从两个直接变成了一个。

而孙膑报告他确定结果消息则向庞涓传达了约 3 比特信息，$\log_2{7}$，因为解决了 7 选 1 的任务。当庞涓得到这个信息之后，他通过检查猜测孙膑的表，发现此时他的解也是固定的，即 4 和 13。

![Level 2-1](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%203.png)

Level 2-1

下面，抛开他们的勾心斗角，从我们旁观者的视角来看，将时间拨回到孙膑承认自己确认之后，庞涓承认自己确认之前。我们的表如下图所示。事实上，此时 4 和 13 组合出现的概率并不是最小的，即并不是最似然的。最似然的是最下面的和为 11 的那些组合，因为它们总共有 4 种可能。而孙膑直接确定结果的可能性有 84 种，4 和 13 的组合只是其中之一。

![Level 2-2](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%204.png)

Level 2-2

![Untitled](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%205.png)

而在庞涓承认他也能够确定后，概率空间被进一步压缩到下图，即存在概率为 1 的唯一解。

![Untitled](%E9%80%BB%E8%BE%91%E6%B8%B8%E6%88%8F1%20bcd1bb05e01f45dab584fbe8106dcf10/Untitled%206.png)

而如果鬼谷子当初没有选择这个组合的话，孙膑可能得到确定结果的概率要大于庞涓。因为孙膑在得知庞涓知道双方均无法确定后，孙膑还有另外 83 种可能直接确定结果。而庞涓无法通过这段对话获得确定信息。

而如果鬼谷子当初选择了 2 和 26 的组合，事情会变得更有意思，因为庞涓无法立即确定该值是否可能由质数相加得到。但如果他传递出此信息后，孙膑也能立即确定这个组合，因为他的决策空间只有 2 组数字。但庞涓则无此幸运，因为他还是要面临大量的可选结果。

他们都是足够聪明的人，但却受到初始条件（鬼谷子 roll 点）的制约，身不由己，所谓“时来天地皆同力，运去英雄不自由”是也。