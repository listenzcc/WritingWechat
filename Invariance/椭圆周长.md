## 椭圆周长

椭圆与圆有本质的区别，
它的周长没有初等表达式的闭式解，
这是一个很神奇的现象。

---

- [椭圆周长](#椭圆周长)
- [基本运算](#基本运算)
- [简单实证](#简单实证)

## 基本运算

圆和椭圆的方程极其简单，

我们假定圆的半径为`1`：
$$x^2 + y^2 = 1$$

我们假定椭圆的短轴长为`1`，长轴长为`a`：
$$\frac{x^2}{a^2} + \frac{y^2}{1^2} = 1, a > 1$$

转换为参数方程

圆：
$$x=cos\theta \\ y=sin\theta$$

椭圆：
$$x=a cos\theta \\ y=sin\theta$$

圆的周长算起来就很简单

$$\int_0^{2\pi} 1 d\theta = 2 \pi$$

而椭圆的周长表达式看上去同样简单

$$\mathcal{C} = 4 \int_0^{\frac{\pi}{2}} \sqrt{a^2 cos^2\theta + sin^2\theta} d\theta$$

但它没有初等表达式的闭式解。
当然，这不代表无解，
比如可以从这个
[思路](https://www.zhihu.com/question/484228941 "思路")
进行求解，得到

![ellipse-3](./ellipse-3.png)

其实这个解无关紧要，
它背后天然地带来了一个问题，

> 为什么二次曲线的问题会如此复杂？

它明明只是把正圆沿着一个轴“拉伸”了一下而已呀。
这个问题我目前还没有太想明白，
不过想来挺有意思的。

## 简单实证

我们在离散的情况下绘制圆和椭圆

![ellipse-1](./ellipse-1.png)

上图分别绘制了圆和椭圆在第一象限的函数图像，
其中$a=2$。
其中，`num`值代表使用了几个点来描述整个圆周。

为了求取椭圆的周长，
一个简单粗暴的观点是，
可以将椭圆当作是沿`x`轴拉伸了$2$倍的正圆，
因此，椭圆的周长应该等比例拉伸

$$Wrong: \mathcal{C}=\sqrt{2} \cdot 2 \pi$$

而实验结果显然不支持这个说法

![ellipse-2](./ellipse-2.png)

我们看`norm`这一列，
它代表在上图中离散的小段之和。

对于圆来说，
$1/4$圆周的长度约为$2 \pi / 4$，
而相同角度范围的椭圆周长约为$2.42$，
大于上面错误观点的

$$2 \pi / 2 = 3.14$$

并且这个误差并非是由于离散采样带来的误差，
因为随着采样数量的增加（从`5`到`50`），
这个数值虽然是逐渐增加的，
但增加得越来越慢，
无法达到此值。


