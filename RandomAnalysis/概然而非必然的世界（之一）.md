## 概然而非必然的世界（之一）

阿甘正传里有个寓言，说是人生就像一盒巧克力，你永远不知道下一块是什么。
很浪漫地说明了这个世界是概然的而不是必然的，随机和有序是这个世界的基本特征。
因此，随机变量及其统计分析，是解释世界的基本工具之一。

---
- [概然而非必然的世界（之一）](#概然而非必然的世界之一)
	- [伯努利实验及其概率空间](#伯努利实验及其概率空间)
	- [概率密度](#概率密度)
	- [概率密度函数](#概率密度函数)
- [附录](#附录)
	- [解释一](#解释一)


### 伯努利实验及其概率空间

[伯努利实验](https://www.sciencedirect.com/topics/mathematics/bernoulli-trial#:~:text=A%20Bernoulli%20trial%20is%20an%20experiment%20that%20results,of%20success%20and%20probability%20of%20failure%20as%20follows%3A "伯努利实验")是经典的思想实验，你可以假设盒子里只有两种糖，且数量无限。
实验过程是抽取一颗，记录其种类。
可见，实验结果必为二者取一，其范围固定，且相互排斥。

糖果之间数量的比例，构成固定的概率空间。
按照伯努利实验条件，一种糖所占的比例决定了它出现的概率。

$$p_a = \frac{n_a}{n_a+n_b}$$

从务虚的观点来讲，概率空间是意念中的良好一致的空间，但每次实验的抽样结果是混沌的现实世界。
此时，意念是有序的，而抽样是随机的，二者对立统一。
而意念中的有序世界，即为概率空间。

### 概率密度

在离散情况下，各种实验结果均有其出现的概率，但连续的情况下，所有特定值出现的概率都是 $0$。

> 为了解释这种诡异的现象，这里我们改变实验条件，使其平均地（等概率地）取 $(0, 1)$ 范围内的实数。
> 不难发现，满足条件的任意实数均有可能出现。
> 由于这些实数有无穷多个，因此特定实数出现的概率均为无穷小值。
>
> $$p_r = \lim_{n \rightarrow \infty}\frac{1}{n}$$

为了避免这种平凡的零值，我们引入概率密度的思想，尝试用积分解决无穷小量相加的问题。

> 首先需要完成从**求和**到**积分**的跨越。
> 我们暂时跳出特定值的困扰，转而求其邻域内概率之和
>
> $$p_r = \lim_{\delta \rightarrow 0}\sum_{x=r-\delta}^{r+\delta} p_x$$
>
> 这样就可以很容易地重新定义其概率密度函数$p_x$满足
>
> $$p_{r \in \Omega} = \int_{x \in \Omega}p_x dx$$
>
> 其中，$p_{r \in \Omega}$ 代表抽样值出现在特定范围$\Omega$内的概率。

回到之前的例子，我们不难发现，在概率密度的分析框架下，实验值出现在特定范围内的概率等于其范围占数轴的长度。分析可以分两步进行，

- 将$(0, 1)$区间分为$n$份，则每份出现的概率都是$1/n$；
- 当$n \rightarrow \infty$时，可以使每个元素都唯一地，对应$n$中的一个数（见[解释一](#解释一 "解释一")），套用概率密度的分析方法，可知$dx=\frac{1}{n}$且$p_x=1$时，满足概率密度关系式。

因此，才有推论“_实验值出现在特定范围内的概率等于其范围占数轴的长度_”成立

$$p_{r\in \Omega}=\int_{x \in \Omega} p_x dx=length(\Omega)$$

另外，为了避免这个“长度”的概念过于模糊，我们不妨直接给出它在数学上的定义，即特定集合的“测度”。
不过这已经属于另外一个话题了，我们不再深入。

### 概率密度函数

概率密度函数，即是抽样值与其概率密度之间的映射关系，满足下式即可

$$\int_x p_x dx=1, p_x > 0$$

数学上，对概率密度的约束也可谓相当宽泛，并不要求它满足可微条件，只需要它的值域为正实数，且积分为$1$即可。

特殊地，其广义积分

$$\int_{-\infty}^{x} p_x dx$$

代表其取值小于$x$的概率，称为累积函数。

到此为止，我们还只考虑了最简单的“平均分布”的情况。
接下来，我们将引入稍微复杂一些的“**正态分布**”家族的概率密度函数。
随着分析的深入，我们将会看到，由于这些概率密度函数不可避免地包含或多或少的参数，如何对这些参数进行估计，就成了统计学中的基本问题之一。

## 附录

### 解释一

针对此语，有必要作一些解释，因为它严格来说是错的，但并不影响后续的分析。

> 当$n \rightarrow \infty$时，……可以使每个元素都唯一地，对应$n$中的一个数。

必须要解释的原因在于，这个论断在 $\{x|x \in (0, 1), x \in R\}$ 的条件下，是错误的。
原因很简单，因为**实数集不是[可数集](https://mathworld.wolfram.com/CountableSet.html "可数集")**。

但是，幸运的是，同样范围内的**有理数集却是可数的**。
这样，我们就可以在使用时，只考虑该范围内的有理数，将它们与$n \rightarrow \infty$ 中的每个数进行一一映射。
之后，由于有理数在实数空间中是[稠密集](https://mathworld.wolfram.com/Dense.html "稠密集")，在后续分析中，完全可以只考虑有理数及其邻域。
从而不影响后续分析。

没错，数学就是这么让人糟心。
