## 物以类聚

都说物以类聚，人以群分。但又都说要兼容并包，兼收并蓄。

后一个说教其实大家都不怎么喜欢听，因为它天然的假定物以类聚这个现象，是因为个体微观的不够包容而造成宏观现象。

也就是说错在个人，社会是个人意愿的加和。

而群体行为的研究却有证据认为，群体行为往往不是个体行为的简单累积，而是具有混沌属性，往往与参与者的主观意愿相悖。

落实在本问题上，即使每个人都很大程度的包容自己的邻居，在群体层面也会呈现出极其严重的分类和隔离。

----
- [物以类聚](#物以类聚)
- [模型设置](#模型设置)
- [程序实现](#程序实现)
  - [程序来源](#程序来源)
- [结果分析](#结果分析)
  - [随机初始化及稳定阈限](#随机初始化及稳定阈限)
  - [在资源紧张的条件下](#在资源紧张的条件下)
  - [资源充足会怎么样？](#资源充足会怎么样)

## 模型设置

适用于本问题的计算模型有很多，本文使用****Schelling's model。****

模型介绍可见提出人的官网，[Schelling's Model of Segregation (stanford.edu)](http://nifty.stanford.edu/2014/mccown-schelling-model-segregation/)

![Schelling’s Model](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled.png)

Schelling’s Model

它是用于解决这样一个问题，在美国城市中，为什么不同人群形成居住社区？

或者换一种问法，个体的趋同意愿有多强烈时，群体上才会呈现出极其排外的聚落分布？

## 程序实现

程序实现可见我的代码笔记本，

[Atomic Agents: Schelling's model of segregation (Forked)](https://observablehq.com/@listenzcc/atomic-agents-schellings-model-of-segregation-forked)

分析方法是开辟一个正方形区域，每个像素代表一座房屋。

- 这些房屋的主人有一个属性，这个属性具有不同的取值；
- 灰色像素代表空置房屋；
- 相同取值的人彼此吸引，不同取值的人彼此排斥；
- 如果一个人周围和他不同的人过多，多于一定的阈值，那么他会选择“搬家”；
- 搬到哪里去？搬到一个随机的房屋里去。
- 他搬走了房屋怎么办？房屋会立刻变成空置。

在这样的设定下，这是一个稍微有点混沌的动态系统，所以只能通过计算机模拟对最终的社区状态进行求解。

【这是一段棒到不行的视频】

### 程序来源

当然，这么NB的程序不可能是我写出来的。

原始代码可见

[Atomic Agents: Schelling's model of segregation](https://observablehq.com/@gjmcn/atomic-agents-schellings-model-of-segregation)

它使用了Atomic Agents，这样一个用于群体模拟的JS库

[https://gjmcn.github.io/atomic-agents/index.html#/?id=introduction](https://gjmcn.github.io/atomic-agents/index.html#/?id=introduction)

## 结果分析

### 随机初始化及稳定阈限

对三种居民（红、绿、蓝）进行随机初始化，灰色区域代表空置的房屋。

![随机初始化](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%201.png)

随机初始化

接下来设定一些基本参数。

![基本参数设置](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%202.png)

基本参数设置

随着时间的推移，聚落开始形成。

![稳定聚落](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%203.png)

稳定聚落

如果居民的容忍限度是 50%，那么容易形成大家和睦共处的聚落环境。聚落的边缘相安无事。

形成这种结果的关键是居民的容忍限度，当它一旦超过50%，社会环境就会立即变得极其的“不稳定”。当然，这种不稳定并不体现在大规模的聚落是否形成，而在于大家在相互接壤时，能不能和平共处。

下面我们将意愿阈值提高到60%，也就是说邻居中与自己相似的比例不到60%，​这个人就要搬家。分两种情况讨论，一个是资源紧张​；另一个是资源充足。这时，资源量会造成不同的最终结果。

### 在资源紧张的条件下

空置房屋非常少，只有总量的 3%。

此时，在动态过程中能够形成聚落，但聚落之间的边缘十分的不稳定。

随着时间的失衡，大的聚落会逐步“吞噬”它周边的、或内部的小群落。

最终形成N足鼎立的局面。

![资源紧张参数设置](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%204.png)

资源紧张参数设置

在资源紧张参数设置下，从左到右是随着时间演进的聚落分布变化。显示出小聚落逐渐被“吞噬”的过程。

![资源紧张1](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%205.png)

资源紧张1

![资源紧张2](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%206.png)

资源紧张2

![资源紧张3](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%207.png)

资源紧张3

### 资源充足会怎么样？

而在资源充足的情况下，即空置房屋充足的情况下。
我们设置空置房屋数量占7%​。

这些空置房屋会将各个聚落分隔开来，这样就保护了小型聚落的存在。

![资源充足参数设置](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%208.png)

资源充足参数设置

在资源充足参数设置下，聚落边缘形成了相互隔离的无人区。而这些无人区就是高、低包容度社会的​重要差异之一。

![资源充足稳定](%E7%89%A9%E4%BB%A5%E7%B1%BB%E8%81%9A%20461817c8fe2b4244bda39c4454f7dabd/Untitled%209.png)

资源充足稳定