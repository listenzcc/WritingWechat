# 人口曲线再挖掘⛏️

有的数据不公布了，这不是什么好事儿。虽然上面总有自己的考量，但这提醒我要学学如何从已知的数据进行猜测性分析。本文开始尝试从人口普查的年龄分布数据开始进行分析，初步代码可见我的 ObservableHQ 笔记本

[How many females will have no child](https://observablehq.com/@listenzcc/how-many-females-will-have-no-child)

---
- [人口曲线再挖掘⛏️](#人口曲线再挖掘️)
  - [要解决的问题](#要解决的问题)
  - [两种积分](#两种积分)
  - [举例说明](#举例说明)


## 要解决的问题

在如今丁克抬头的年代，未来每个年龄段到底会有多少女性终身不生育？

问题的难点在于，生育是一个长时程的事件。女性可以在20到35岁、40岁甚至更高年龄之间的任意时间点选择一次或者数次生育。在缺少针对个人的统计数据的情况下，只知道某一年的出生人口难以确定其母亲的年龄分布。也就难以考察某年出生的女性到底有多大比例选择了生育。

## 两种积分

由于第七次人口普查数据仅提供了人口的年龄分布的详细数字，虽然也包含有平均生育年龄，但平均数仍然无法直接反映在曲线上。因此，为了解决每个年龄段不生育女性数量核心问题，我们需要根据人口曲线进行估计。估计的方法借助勒贝格积分的思路。

简单来说，高等数学微积分章节接触的是黎曼积分，曲线沿横坐标进行微分，曲线面积为全体微元的和。

$$
I = \int_{-\infty}^{\infty} f(x) dx
$$

勒贝格积分（Lebesgue integral）是测度论在实分析中的一个重要概念，用于对非负函数和一般可积函数进行积分。它是对传统的黎曼积分的一种推广，解决了黎曼积分在处理某些特殊函数和集合上的局限性问题。

黎曼积分主要针对可分割的函数，将区间分成无限多个小区间，计算每个小区间上的函数值乘以区间长度，然后将这些乘积相加。但是在一些情况下，黎曼积分无法处理非常不规则的函数或集合。勒贝格积分则通过引入测度概念，将函数的积分看作是对函数值在某个测度空间上的加权求和。

$$
I = \int_{-\infty}^{\infty} \mathcal{L}(y) dy
$$

这种方法能够处理更一般的函数集合，包括不连续的函数、几乎处处成立的函数等。勒贝格积分的优势在于它可以更广泛地应用于各种函数，能够处理黎曼积分难以处理的情况，同时也具有更好的一致性和连续性性质。

## 举例说明

举个例子来说，下图是从第七次人口普查数据中绘制的中国人口年龄分布图。假如 2023 年出生人口为 8 百万人的话，那么是下面一段红线，这是积分结果。而积分对象则是 20 到 35 岁之间的女性人口。一般来讲，人类怀胎需要接近 1 年，不考虑双胞胎的情况是 1 胎对应 1 名新生儿。因此这 8 百万新生儿的母亲一定是在该年龄段中的 8 百万名女性，在下图中用线段表示。

从上述分析可知，下方的红色线一定与上方的线段长度之和相等。利用这个相等关系也许可以解决开始提出的问题。

![Untitled](%E4%BA%BA%E5%8F%A3%E6%9B%B2%E7%BA%BF%E5%86%8D%E6%8C%96%E6%8E%98%E2%9B%8F%EF%B8%8F%20904755cb4b934422ab4a844ba909c8ac/Untitled.png)